version: "2"

sql:
  - engine: "postgresql"
    queries: "/internal/database/queries"       # Your custom SQL queries
    schema: "/internal/database/schemas"       # Your DB schema
    gen:
      go:
        emit_json_tags: true
        package: "repository"    # Go package name
        out: "internal/repository"        # Output folder for generated Go code
        sql_package: "pgx/v5"  # Use pgx v5 instead of database/sql

        overrides:
          # Override mapping for UUID columns
          - db_type: "uuid"
            go_type:
              import: "github.com/google/uuid"
              type: "UUID"
          # Override mapping for timestamptz columns
          - db_type: "timestamptz"
            go_type:
              import: "time"
              type: "Time"
